## HTTP
"{{item}}:80":
    listen: 80
    paths:
        "/":
#            mruby.handler: |
#                Proc.new do |env|
#                    if env['SERVER_PORT'] == "80"
#                        if env['QUERY_STRING'].empty?
#                            [301, {"Location" => "https://#{env['SERVER_HOST']}#{env['PATH_INFO']}"}, []]
#                        else
#                            [301, {"Location" => "https://#{env['SERVER_HOST']}#{env['PATH_INFO']}?#{env['QUERY_STRING']}"}, []]
#                        end
#                    else
#                        [399, {}, []]
#                    end
#                end
            file.dir: /var/www/html


## HTTPS
# "{{item}}:443"
#     listen:
#         port: 443
#         ssl:
#             key-file: /etc/letsencrypt/live/{{item}}/privkey.pem
#             certificate-file: /etc/letsencrypt/live/{{item}}/fullchain.pem
#             dh-file: /etc/h2o/dhparams/default.pem
#             minimum-version: TLSv1
#             cipher-suite: "ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:ECDHE-RSA-AES128-SHA256"
#             cipher-preference: server
#     paths:
#         "/":
#             file.dir: /var/www/html
#             redirect:
#                 url: /index.php/
#                 internal: YES
#                 status: 307
#

